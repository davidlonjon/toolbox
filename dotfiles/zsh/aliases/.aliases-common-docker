# Docker aliases
# Some aliases are taken from https://github.com/tcnksm/docker-alias/blob/master/zshrc
# See https://github.com/arunvelsriram/docker-time-sync-agent
alias dksync="/usr/local/bin/docker run --rm --privileged --pid=host walkerlee/nsenter -t 1 -m -u -i -n ntpd -d -q -n -p `if [[ -f /etc/ntp.conf ]]; then cat /etc/ntp.conf | awk '{ print $2 }'; else echo 'pool.ntp.org'; fi`"

# Get container process
alias dkps="docker ps"

# Get process included stop container
alias dkpsa="docker ps -a"

# Get images
alias dki="docker images"

# Get container IP
alias dkip="docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}'"

# Get Docker env setup
alias dke="env | grep DOCKER_"

# Docker compose aliases
alias dkc="docker-compose"
alias dkcbuild='docker-compose build'
alias dkcps='docker-compose ps'
alias dkcup='docker-compose up'
alias dkcdown='docker-compose down'
alias dkcupd='docker-compose up -d'
alias dkclogs='docker-compose logs'
alias dkcltail='docker-compose logs -f --tail 100'
alias dkcstart='docker-compose start'
alias dkcstop='docker-compose stop'
alias dkcexec='docker-compose exec'
alias dkcebash='function _dkebash(){ docker-compose exec $1 bash; };_dkebash'
alias dkcrun='docker-compose run'

# Docker machine aliases
alias dkm='function _dkm(){ docker-machine $@; };_dkm'
alias dkmenv='function _dkmenv() { eval "$(docker-machine env $@)"; };_dkmenv'
alias dkmout='function _dkmout(){ unset DOCKER_TLS_VERIFY; unset DOCKER_CERT_PATH; unset DOCKER_MACHINE_NAME; unset DOCKER_HOST; };_dkmout'

# Show all alias related docker
dkalias() { alias | grep 'docker' | sed "s/^\([^=]*\)=\(.*\)/\1 => \2/"| sed "s/['|\']//g" | sort; }
