# OSX-only stuff. Abort if not OSX.
[[ $OSTYPE =~ ^darwin ]] || return 1

## -------------------------------------------------------------------
## MAC SPECIFIC GLOBAL ALIASES
## -------------------------------------------------------------------

## -------------------------------------------------------------------
## PLAY SAFE ALIASES
## -------------------------------------------------------------------
## the nocorrect is inspired from
## http://dotfiles.org/~atom/.zshrc

## Remove directories
alias rm='nocorrect rm -i'
alias rmd='nocorrect rm -rfi'

# Taken from http://www.hongkiat.com/blog/how-to-clear-flush-dns-cache-in-os-x-yosemite/
# Flush Directory Service cache
alias flush="sudo discoveryutil mdnsflushcache;sudo discoveryutil udnsflushcaches;say flushed"

# Taken from https://github.com/mathiasbynens/dotfiles/blob/master/.aliases
# Clean up LaunchServices to remove duplicates in the “Open With” menu
alias lscleanup="/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -kill -r -domain local -domain system -domain user && killall Finder"

# Taken from https://github.com/mathiasbynens/dotfiles/blob/master/.aliases
# OS X has no `md5sum`, so use `md5` as a fallback
command -v md5sum > /dev/null || alias md5sum="md5"
# OS X has no `sha1sum`, so use `shasum` as a fallback
command -v sha1sum > /dev/null || alias sha1sum="shasum"

# Taken from https://github.com/mathiasbynens/dotfiles/blob/master/.aliases
# Recursively delete `.DS_Store` files
alias cleanup="find . -type f -name '*.DS_Store' -ls -delete"
# Empty the Trash on all mounted volumes and the main HDD
# Also, clear Apple’s System Logs to improve shell startup speed
alias emptytrash="sudo rm -rfv /Volumes/*/.Trashes; sudo rm -rfv ~/.Trash; sudo rm -rfv /private/var/log/asl/*.asl"

# Taken from https://github.com/mathiasbynens/dotfiles/blob/master/.aliases
# Show/hide hidden files in Finder
alias show="defaults write com.apple.finder AppleShowAllFiles -bool true && killall Finder"
alias hide="defaults write com.apple.finder AppleShowAllFiles -bool false && killall Finder"
# Hide/show all desktop icons (useful when presenting)
alias hidedesktop="defaults write com.apple.finder CreateDesktop -bool false && killall Finder"
alias showdesktop="defaults write com.apple.finder CreateDesktop -bool true && killall Finder"

# Taken from https://github.com/mathiasbynens/dotfiles/blob/master/.aliases
# Disable Spotlight
alias spotoff="sudo mdutil -a -i off"
# Enable Spotlight
alias spoton="sudo mdutil -a -i on"

# Taken from https://github.com/mathiasbynens/dotfiles/blob/master/.aliases
# Trim new lines and copy to clipboard
# alias c="tr -d '\n' | pbcopy"

# Show open tcp ports
alias ports='netstat -tulanp tcp'

# Copy and paste current directory
alias cdc='pwd | pbcopy'
alias cdp='cd `pbpaste`'

# Show back to my mac FQDN
# http://onethingwell.org/post/27835796928/remote-ssh-bact-to-my-mac
alias showbtmm="echo show Setup:/Network/BackToMyMac | scutil | sed -n 's/.* : *\(.*\).$/\1/p'"

alias fix-en0="sudo ifconfig en0 down; sudo route flush; sudo ifconfig en0 up"
alias fix-en1="sudo ifconfig en1 down; sudo route flush; sudo ifconfig en1 up"

# Focus aliases
alias focus="open focus://focus"
alias focus15="open focus://focus?minutes=15"
alias focis25="open focus://focus?minutes=25"
alias focus1="open focus://focus?minutes=60"
alias focust="open focus://toggle"
